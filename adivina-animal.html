<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>üêæ Adivina el Animal üêæ</title>

<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    padding:20px;
    font-family:'Baloo 2', cursive;
    background: linear-gradient(135deg,#ffd166,#ef476f);
    text-align:center;
    overflow:hidden;
}

h1{
    color:#fff;
    font-size:3em;
    text-shadow:3px 3px #ff006e;
}

#score{
    color:#fff;
    font-size:1.6em;
}

.game{
    display:flex;
    justify-content:center;
    align-items:center;
    gap:80px;
    margin-top:40px;
}

.left img{
    width:280px;
    height:220px;
    object-fit:cover;
    border-radius:25px;
    border:6px dashed #fff;
    background:#fff;
}

.right{
    display:flex;
    gap:20px;
}

.right img{
    width:180px;
    height:220px;
    object-fit:cover;
    border-radius:20px;
    cursor:pointer;
    border:5px solid transparent;
    transition:0.3s;
    background:#fff;
}

.right img:hover{
    transform:scale(1.1);
    border-color:#06d6a0;
}

#feedback{
    font-size:5em;
    height:80px;
}

#animalName{
    font-size:2em;
    color:#fff;
}

canvas{
    position:absolute;
    top:0;
    left:0;
    pointer-events:none;
}
</style>
</head>

<body>

<h1>üêæ Adivina el Animal üêæ</h1>
<div id="score">‚≠ê Puntos: 0</div>

<div class="game">
    <div class="left">
        <img id="leftImg">
    </div>
    <div class="right" id="options"></div>
</div>

<div id="feedback"></div>
<div id="animalName"></div>

<canvas id="canvas"></canvas>

<script>
// üîä VOZ EN ESPA√ëOL
function hablar(texto){
    const voz = new SpeechSynthesisUtterance(texto);
    voz.lang = "es-ES";
    voz.rate = 0.9;
    speechSynthesis.speak(voz);
}

// üê∂ ANIMALES (IM√ÅGENES COMPLETAS)
const animales = [
{
 nombre:"perro",
 img:"https://images.unsplash.com/photo-1552053831-71594a27632d?auto=format&fit=crop&w=800&q=60"
},
{
 nombre:"gato",
 img:"https://images.unsplash.com/photo-1518791841217-8f162f1e1131?auto=format&fit=crop&w=800&q=60"
},
{
 nombre:"le√≥n",
 img:"https://images.unsplash.com/photo-1546182990-dffeafbe841d?auto=format&fit=crop&w=800&q=60"
},
{
 nombre:"jirafa",
 img:"https://images.unsplash.com/photo-1508672019048-805c876b67e2?auto=format&fit=crop&w=800&q=60"
},
{
 nombre:"cebra",
 img:"https://images.unsplash.com/photo-1517849845537-4d257902454a?auto=format&fit=crop&w=800&q=60"
},
{
 nombre:"cocodrilo",
 img:"https://images.unsplash.com/photo-1610878180933-1237283c9f2e?auto=format&fit=crop&w=800&q=60"
}
];

let indice = 0;
let puntos = 0;

const leftImg = document.getElementById("leftImg");
const optionsDiv = document.getElementById("options");
const feedback = document.getElementById("feedback");
const animalName = document.getElementById("animalName");
const score = document.getElementById("score");
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

function cargar(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    feedback.textContent="";
    animalName.textContent="";

    const actual = animales[indice];
    leftImg.src = actual.img;

    optionsDiv.innerHTML="";

    let opciones = animales
        .filter(a => a !== actual)
        .sort(()=>Math.random()-0.5)
        .slice(0,2);

    opciones.push(actual);
    opciones.sort(()=>Math.random()-0.5);

    opciones.forEach(op=>{
        const img = document.createElement("img");
        img.src = op.img;
        img.onclick = ()=>comprobar(op,img);
        optionsDiv.appendChild(img);
    });
}

function comprobar(op,img){
    if(op === animales[indice]){
        dibujarLinea(leftImg,img,"green");
        feedback.textContent="üëç";
        animalName.textContent="¬°Es un " + op.nombre + "!";
        hablar("¬°Muy bien! Es un " + op.nombre);
        puntos++;
        score.textContent="‚≠ê Puntos: " + puntos;

        setTimeout(()=>{
            indice = (indice + 1) % animales.length;
            cargar();
        },1500);
    }else{
        dibujarLinea(leftImg,img,"red");
        feedback.textContent="‚ùå";
        hablar("Int√©ntalo otra vez");
        setTimeout(()=>{
            feedback.textContent="";
            ctx.clearRect(0,0,canvas.width,canvas.height);
        },900);
    }
}

function dibujarLinea(a,b,color){
    const r1 = a.getBoundingClientRect();
    const r2 = b.getBoundingClientRect();

    ctx.strokeStyle=color;
    ctx.lineWidth=6;
    ctx.beginPath();
    ctx.moveTo(r1.right, r1.top + r1.height/2);
    ctx.lineTo(r2.left, r2.top + r2.height/2);
    ctx.stroke();
}

cargar();
</script>

</body>
</html>
