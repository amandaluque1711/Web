<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>üêæ Adivina el Animal üêæ</title>

<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    padding:20px;
    font-family:'Baloo 2', cursive;
    background: linear-gradient(135deg,#ffd166,#ef476f);
    text-align:center;
    overflow:hidden;
}

h1{
    color:#fff;
    font-size:3em;
    text-shadow:3px 3px #ff006e;
}

#score{
    color:#fff;
    font-size:1.6em;
}

.game{
    display:flex;
    justify-content:center;
    align-items:center;
    gap:80px;
    margin-top:40px;
}

.left img{
    width:260px;
    height:200px;
    object-fit:cover;
    border-radius:20px;
    border:6px dashed #fff;
}

.right{
    display:flex;
    gap:20px;
}

.right img{
    width:160px;
    height:200px;
    object-fit:cover;
    cursor:pointer;
    border-radius:15px;
    border:5px solid transparent;
    transition:0.3s;
}

.right img:hover{
    transform:scale(1.1);
    border-color:#06d6a0;
}

#feedback{
    font-size:5em;
    height:80px;
}

#animalName{
    font-size:2em;
    color:#fff;
}

canvas{
    position:absolute;
    top:0;
    left:0;
    pointer-events:none;
}
</style>
</head>

<body>

<h1>üêæ Adivina el Animal üêæ</h1>
<div id="score">‚≠ê Puntos: 0</div>

<div class="game">
    <div class="left">
        <img id="leftImg">
    </div>
    <div class="right" id="options"></div>
</div>

<div id="feedback"></div>
<div id="animalName"></div>

<canvas id="canvas"></canvas>

<script>
// ================== VOZ ==================
function hablar(texto){
    const voz = new SpeechSynthesisUtterance(texto);
    voz.lang = "es-ES";
    voz.rate = 0.9;
    speechSynthesis.speak(voz);
}

// ================== ANIMALES REALES ==================
const animales = [
{
    nombre:"perro",
    izquierda:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Golden_Retriever_half_left.jpg/512px-Golden_Retriever_half_left.jpg",
    derecha:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Golden_Retriever_half_right.jpg/512px-Golden_Retriever_half_right.jpg"
},
{
    nombre:"gato",
    izquierda:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Cat_half_left.jpg/512px-Cat_half_left.jpg",
    derecha:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Cat_half_right.jpg/512px-Cat_half_right.jpg"
},
{
    nombre:"le√≥n",
    izquierda:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Lion_half_left.jpg/512px-Lion_half_left.jpg",
    derecha:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Lion_half_right.jpg/512px-Lion_half_right.jpg"
},
{
    nombre:"jirafa",
    izquierda:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Giraffe_half_left.jpg/512px-Giraffe_half_left.jpg",
    derecha:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Giraffe_half_right.jpg/512px-Giraffe_half_right.jpg"
},
{
    nombre:"cebra",
    izquierda:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/Zebra_half_left.jpg/512px-Zebra_half_left.jpg",
    derecha:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/Zebra_half_right.jpg/512px-Zebra_half_right.jpg"
},
{
    nombre:"cocodrilo",
    izquierda:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Crocodile_half_left.jpg/512px-Crocodile_half_left.jpg",
    derecha:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Crocodile_half_right.jpg/512px-Crocodile_half_right.jpg"
}
];

let indice = 0;
let puntos = 0;

const leftImg = document.getElementById("leftImg");
const optionsDiv = document.getElementById("options");
const feedback = document.getElementById("feedback");
const animalName = document.getElementById("animalName");
const score = document.getElementById("score");
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

function cargar(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    feedback.textContent="";
    animalName.textContent="";

    leftImg.src = animales[indice].izquierda;
    optionsDiv.innerHTML="";

    let opciones = animales.map(a=>a.derecha).sort(()=>Math.random()-0.5).slice(0,2);
    opciones.push(animales[indice].derecha);
    opciones.sort(()=>Math.random()-0.5);

    opciones.forEach(src=>{
        const img = document.createElement("img");
        img.src = src;
        img.onclick = ()=>comprobar(src,img);
        optionsDiv.appendChild(img);
    });
}

function comprobar(src,img){
    if(src === animales[indice].derecha){
        dibujarLinea(leftImg,img,"green");
        feedback.textContent="üëç";
        animalName.textContent="¬°Es un " + animales[indice].nombre + "!";
        hablar("¬°Es un " + animales[indice].nombre + "!");
        puntos++;
        score.textContent="‚≠ê Puntos: " + puntos;

        setTimeout(()=>{
            indice = (indice+1)%animales.length;
            cargar();
        },1600);
    }else{
        dibujarLinea(leftImg,img,"red");
        feedback.textContent="‚ùå";
        hablar("Int√©ntalo otra vez");
        setTimeout(()=>{
            feedback.textContent="";
            ctx.clearRect(0,0,canvas.width,canvas.height);
        },900);
    }
}

function dibujarLinea(a,b,color){
    const r1 = a.getBoundingClientRect();
    const r2 = b.getBoundingClientRect();
    ctx.strokeStyle=color;
    ctx.lineWidth=6;
    ctx.beginPath();
    ctx.moveTo(r1.right, r1.top + r1.height/2);
    ctx.lineTo(r2.left, r2.top + r2.height/2);
    ctx.stroke();
}

cargar();
</script>

</body>
</html>
